(function(e){window.ich=new function(){var a=this;a.VERSION="0.9";a.templates={};a.partials={};a.addTemplate=function(b,d){if(a[b])throw"Invalid name: "+b+".";if(a.templates[b])throw'Template " + name + " exists';a.templates[b]=d;a[b]=function(c,d){var c=c||{},f=Mustache.to_html(a.templates[b],c,a.partials);return d?f:e(f)}};a.addPartial=function(b,d){if(a.partials[b])throw'Partial " + name + " exists';a.partials[b]=d};a.grabTemplates=function(){e('script[type="text/html"]').each(function(b,d){var c=
e("number"===typeof b?d:b),g="".trim?c.html().trim():e.trim(c.html());a[c.hasClass("partial")?"addPartial":"addTemplate"](c.attr("id"),g);c.remove()})};a.clearAll=function(){for(var b in a.templates)delete a[b];a.templates={};a.partials={}};a.refresh=function(){a.clearAll();a.grabTemplates()}};e(function(){ich.grabTemplates()})})(window.jQuery||window.Zepto);
